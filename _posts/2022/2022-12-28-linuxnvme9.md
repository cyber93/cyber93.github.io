---
title:  "nvme_reset_work() Finale"
excerpt: "Linux NVMe Driver 이야기 #9"

toc: true
toc_sticky: true

categories:
  - NVMe Storage Technology
tags:
  - Linux NVMe Driver 이야기
---

<br>

# [nvme_reset_work() 함수 Finale](https://mp.weixin.qq.com/s?__biz=MzIwNTUxNDgwNg==&mid=2247484495&idx=1&sn=e93be1d8f0fea37a9011840a20309ff4&chksm=972ef516a0597c0056d00f4e56f637c76c7fe2b7f8b017b96f8564bebf0edb93452b4d453f38&scene=21#wechat_redirect)

이전 글에서는 nvme_setup_io_queues() 함수의 내용을 분석해 보았고, 이번에는 nvme_reset_work() 함수의 마지막 세 가지 함수를 소개합니다.

> nvme_reset_work() 함수의 주요 작업은 다음과 같이 요약할 수 있습니다.
>
> ⓐ nvme_reset_work() 함수를 입력한 후, NVME_CTRL_RESETTING 플래그를 먼저 확인하여 nvme_reset_work() 함수가 반복적으로 호출되지 않도록 합니다.
>
> ⓑ nvme_pci_enable() 함수 호출
>
> ⓒ nvme_configure_admin_queue() 함수 호출
>
> ⓓ nvme_init_queue() 함수 호출
>
> ⓔ nvme_alloc_admin_tags() 함수 호출
>
> ⓕ nvme_init_identify() 함수 호출
>
> ⓖ nvme_setup_io_queues() 함수 호출
>
> **ⓗ nvme_start_queues() / nvme_dev_add() 함수 호출 후 nvme_queue_scan() 함수 호출**



## nvme_start_queues() 함수



## nvme_dev_add() 함수



## nvme_queue_scan() 함수
